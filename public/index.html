<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"
  />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />
  <title>Polaris</title>
  <link rel="preload" href="./player-fill0.woff2?v=2025-12-27-4" as="font" type="font/woff2">
  <link rel="preload" href="./player-fill1.woff2?v=2025-12-27-4" as="font" type="font/woff2">
  <link rel="icon" type="image/png" sizes="32x32" href="./img/polaris-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="./img/polaris-16x16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="./img/polaris-180x180.png" />
  <link rel="icon" href="./img/polaris.ico" />
  <script>
    // Prevent Material icon glyph names flashing before the font loads.
    document.documentElement.classList.remove('icons-ready');
  </script>
  <link rel="stylesheet" href="style.css?v=2025-12-27-4">
</head>
<body>
  <div id="sidebar">
    <!-- Video player -->
    <div id="player-container">
      <div id="player"></div>

      <!-- Full-size invisible hit layer: only active when controls are hidden. -->
      <div
        id="centerControlsHit"
        class="center-controls-hit"
        aria-hidden="true"
        data-visible="false"
      ></div>

      <!-- Edge nav targets: 30% square, invisible. -->
      <button
        id="centerEdgePrevBtn"
        class="cco-edge cco-edge-left"
        type="button"
        aria-label="Previous track"
        data-visible="false"
      ></button>
      <button
        id="centerEdgeNextBtn"
        class="cco-edge cco-edge-right"
        type="button"
        aria-label="Next track"
        data-visible="false"
      ></button>

      <!-- Visible center controls (fade in/out). -->
      <div
        id="centerControlsPanel"
        class="center-controls-panel"
        aria-hidden="true"
        data-visible="false"
      >
        <div class="cco-panel" aria-hidden="true">
          <div class="cco-row cco-row-controls">
            <label id="centerSidebarToggle" class="cco-toggle" aria-label="Toggle sidebar">
              <input id="centerSidebarToggleInput" type="checkbox" aria-label="Sidebar visible" />
              <span class="icon fill-0" aria-hidden="true">thumbnail_bar</span>
            </label>

            <button id="centerPrevBtn" class="cco-btn" type="button" aria-label="Previous track">
              <span class="icon" aria-hidden="true">skip_previous</span>
            </button>
            <button id="centerPlayPauseBtn" class="cco-btn" type="button" aria-label="Play/Pause">
              <span class="icon" id="centerPlayPauseIcon" aria-hidden="true">play_arrow</span>
            </button>
            <button id="centerNextBtn" class="cco-btn" type="button" aria-label="Next track">
              <span class="icon" aria-hidden="true">skip_next</span>
            </button>

            <button id="centerMarkBtn" class="cco-btn" type="button" aria-label="Mark track" aria-pressed="false">
              <span class="icon fill-0" id="centerMarkIcon" aria-hidden="true">circle</span>
            </button>
          </div>

          <div class="cco-progress" aria-hidden="true">
            <div id="centerTimeLabel" class="cco-time">00:00 / 00:00</div>
            <input id="centerProgressRange" class="cco-progress-range" type="range" min="0" max="1000" value="0" />

            <span id="centerTrackInfo" class="title cco-trackinfo" aria-hidden="true">
              <span id="centerTrackArtistLine" class="track-artist-line"><span id="centerTrackArtist" class="track-artist"></span></span>
              <span id="centerTrackTitle" class="track-title"></span>
            </span>
          </div>
        </div>
      </div>
    </div>

    <div id="sidebarDrawer">
      <!-- Top playlist controls -->
      <div id="playlistControls">
        <div class="pc-body">
          <form id="playlistForm">
          <div id="topControlsPanel">
            <!-- Saved playlist selector row -->
            <div class="pc-row">
              <div class="pc-input-wrapper playlist-history-wrapper">
                <div class="playlist-select-group">
                  <button
                    id="sidebarMenuBtn"
                    type="button"
                    aria-label="Hide sidebar"
                    title="Hide sidebar"
                  >
                    <span class="icon menu" aria-hidden="true">menu</span>
                  </button>
                  <select
                    id="playlistHistorySelect"
                    aria-label="Saved playlists"
                    disabled
                  ></select>
                  <button
                    id="playlistIOBtn"
                    type="button"
                    aria-label="Manage playlists"
                    title="Manage playlists"
                  >
                    <span class="icon settings" aria-hidden="true">settings</span>
                  </button>
                </div>
              </div>
            </div>

            <!-- Filter row -->
            <div class="pc-row">
              <div class="pc-input-wrapper">
                <div class="filter-wrapper" id="filterWrapper">
                  <span class="icon search filter-icon" aria-hidden="true">search</span>
                  <input
                    id="filterInput"
                    type="text"
                    aria-label="Filter tracks"
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                  />
                  <button type="button" id="clearFilterBtn" aria-label="Clear filter">
                    <span class="icon cancel" aria-hidden="true">cancel</span>
                  </button>
                </div>
                <div class="details-toggle-wrapper" id="combinedFilterWrapper">
                  <button
                    id="combinedFilterBtn"
                    type="button"
                    aria-label="Filters"
                    title="Filters"
                    aria-haspopup="true"
                    aria-expanded="false"
                    aria-controls="combinedFilterOverlay"
                  >
                    <span class="icon filter_alt" id="combinedFilterIcon" aria-hidden="true">filter_alt</span>
                  </button>
                  <div
                    id="combinedFilterOverlay"
                    class="track-details-overlay"
                    role="dialog"
                    aria-modal="false"
                    aria-hidden="true"
                    aria-labelledby="combinedFilterHeading"
                  >
                    <div class="track-details-header" id="combinedFilterHeading">
                      <span>Filters</span>
                      <button id="filtersResetBtn" class="filters-reset-btn" type="button" aria-label="Reset filters" title="Reset filters">Reset</button>
                    </div>

                    <div class="track-details-header track-details-header-inline" id="markedFilterHeading">
                      <span>Marked Tracks</span>
                      <label class="track-details-option track-details-option-compact" title="Only marked tracks">
                        <input id="markedOnlyCheckbox" type="checkbox" aria-label="Only marked tracks" />
                      </label>
                    </div>

                    <div class="track-details-header track-details-header-inline" id="artistFilterHeading">
                      <span>Artists</span>
                      <button id="artistResetBtn" class="filters-reset-btn" type="button" aria-label="Reset artist filters" title="Reset artist filters">Reset</button>
                    </div>
                    <div id="artistFilterOptions"></div>

                    <div class="track-details-header track-details-header-inline" id="countryFilterHeading">
                      <span>Countries</span>
                      <button id="countryResetBtn" class="filters-reset-btn" type="button" aria-label="Reset country filters" title="Reset country filters">Reset</button>
                    </div>
                    <div id="countryFilterOptions"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          </form>
        </div>
      </div>

      <!-- Playback controls -->
      <div id="trackControls">
      <div id="trackControls-top">
        <div id="trackControls-buttons">
          <div class="track-controls-group">
            <button id="prevBtn" type="button" aria-label="Previous track">
              <span class="icon prev" aria-hidden="true">skip_previous</span>
            </button>
            <button id="playPauseBtn" type="button" aria-label="Play/Pause">
              <span class="icon play" id="playPauseIcon" aria-hidden="true">play_arrow</span>
            </button>
            <button id="nextBtn" type="button" aria-label="Next track">
              <span class="icon next" aria-hidden="true">skip_next</span>
            </button>
          </div>
          <canvas id="spectrumCanvas" width="320" height="46" aria-label="Spectrum" role="img"></canvas>
          <div class="track-controls-group right">
            <button id="fullscreenBtn" type="button" aria-label="Enter fullscreen" aria-pressed="false">
              <span class="icon fullscreen" id="fullscreenIcon" aria-hidden="true">fullscreen</span>
            </button>
            <button id="shuffleBtn" type="button" aria-label="Shuffle" aria-pressed="false">
              <span class="icon shuffle" id="shuffleIcon" aria-hidden="true">shuffle</span>
            </button>
            <div class="details-toggle-wrapper" id="trackDetailsWrapper">
              <button
                id="thumbToggleBtn"
                type="button"
                aria-label="Track details"
                aria-haspopup="true"
                aria-expanded="false"
                aria-controls="trackDetailsOverlay"
              >
                <span class="icon tune" id="thumbToggleIcon" aria-hidden="true">tune</span>
              </button>
              <div
                id="trackDetailsOverlay"
                class="track-details-overlay"
                role="dialog"
                aria-modal="false"
                aria-hidden="true"
                aria-labelledby="trackDetailsHeading"
              >
                <div class="track-details-header" id="trackDetailsHeading">Details</div>
                <label class="track-details-option" for="detailTrackNumber">
                  <input type="checkbox" id="detailTrackNumber" />
                  <span>Track number</span>
                </label>
                <label class="track-details-option" for="detailThumbnail">
                  <input type="checkbox" id="detailThumbnail" />
                  <span>Thumbnail</span>
                </label>
                <label class="track-details-option" for="detailNoAudio">
                  <input type="checkbox" id="detailNoAudio" />
                  <span>No audio</span>
                </label>
                <label class="track-details-option" for="detailWrapLines">
                  <input type="checkbox" id="detailWrapLines" />
                  <span>Wrap lines</span>
                </label>
                <label class="track-details-option" for="detailCountry">
                  <input type="checkbox" id="detailCountry" />
                  <span>Country</span>
                </label>
                <label class="track-details-option" for="detailCheckTrack">
                  <input type="checkbox" id="detailCheckTrack" />
                  <span>Check track</span>
                </label>
                <label class="track-details-option" for="detailSortAZ">
                  <input type="checkbox" id="detailSortAZ" />
                  <span>Sort A-Z</span>
                </label>
                <label class="track-details-option" for="detailShowFiltered">
                  <input type="checkbox" id="detailShowFiltered" />
                  <span>Show filtered</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="progressWrapper">
        <input
          id="progressRange"
          type="range"
          min="0"
          max="1000"
          value="0"
        />
        <div id="timeLabel">00:00 / 00:00</div>
      </div>
      </div>

      <!-- Scrollable list -->
      <div id="trackListContainer" tabindex="0" aria-label="Playlist tracks">
        <ul id="trackList"></ul>
      </div>
    </div>
  </div>

  <div
    id="alertOverlay"
    class="alert-overlay"
    role="dialog"
    aria-modal="true"
    aria-labelledby="alertMessage"
    aria-hidden="true"
  >
    <div class="alert-dialog">
      <div class="alert-body">
        <pre id="alertMessage"></pre>
      </div>
      <button id="alertCloseBtn" type="button">
        <span class="icon close" aria-hidden="true">close</span>
        <span class="alert-close-text">OK</span>
      </button>
    </div>
  </div>

  <script type="module" src="./js/bootstrap.mjs?v=2025-12-28-1"></script>
</body>
</html>
